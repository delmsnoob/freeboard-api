let db;_617‍.x([["getPosts",()=>getPosts],["getPostById",()=>getPostById],["addPost",()=>addPost],["updatePostById",()=>updatePostById],["deletePostById",()=>deletePostById]]);_617‍.w("../config/database",[["default",["db"],function(v){db=v}]]);

// get all post
       const getPosts = (result) => {
  db.query('SELECT * FROM posts ORDER BY created_at desc', (err, results) => {
    if (err) {
      _617‍.g.console.log(err)
      result(err, null)
    } else {
      result(null, results)
    }
  })
}

// get single post
       const getPostById = (id, result) => {
  db.query('SELECT * FROM posts WHERE id = ?', [id], (err, results) => {
    if (err) {
      _617‍.g.console.log(err)
      result(err, null)
    } else {
      result(null, results[0])
    }
  })
}

// add post
       const addPost = (data, result) => {
  db.query('INSERT INTO posts SET ?', [data], (err, results) => {
    if (err) {
      _617‍.g.console.log(err)
      result(err, null)
    } else {
      result(null, results)
    }
  })
}

// update post
       const updatePostById = (data, id, result) => {
  db.query('UPDATE posts SET author_name = ?, author_email = ?, author_post = ? WHERE id = ?', [data.author_name, data.author_email, data.author_post, id], (err, results) => {
    if (err) {
      _617‍.g.console.log(err)
      result(err, null)
    } else {
      result(null, results)
    }
  })
}

// delete post
       const deletePostById = (id, result) => {
  db.query('DELETE FROM posts WHERE id = ?', [id], (err, results) => {
    if (err) {
      _617‍.g.console.log(err)
      result(err, null)
    } else {
      result(null, results)
    }
  })
}